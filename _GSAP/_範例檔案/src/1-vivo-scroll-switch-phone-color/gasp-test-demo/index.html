<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>gsap.js演示</title>
  <style type="text/css">
    /* 给body的高度设定为：5000px，使得滚轮有滑动空间 */
    body {
      height: 6000px;
    }

    .demo {
      /* 让div元素的上边距为500px */
      margin-top: 500px;
      /* 元素默认隐藏 */
      opacity: 0;
      width: 100px;
      height: 100px;
      background-color: #29a2ff;
    }
  </style>
</head>

<body>
  <!-- 动画 -->
  <div class="demo"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>

  <!-- 自定义脚本，此脚本需要写在导入脚本文件之后 -->
  <script type="text/javascript">
    // 注册插件
    gsap.registerPlugin(ScrollTrigger);

    //制作触发时间线
    let demo = gsap.timeline({
      scrollTrigger: {
        trigger: ".demo",
        /*
         * ⚠ start: 表示动画开始执行节点
         * ⚠ end: 表示动画执行结束
         * 参数1: 表示当前这个元素的开始执行动画的起点
         *      【0：就是当前这个元素的顶端位置】
         *      【正数：当前这个元素根据顶端位置进行向下偏移】
         *      【负数：当前这个元素根据顶端位置进行向上偏移】
         * 
         * 参数2: 表示当前滚动条的起点执行位置
         *      【0：浏览器最顶端】
         *      【正数：向下偏移】
         *      【负数：向上偏移】
         * 当两个位置重合时，动画开始执行/结束
         * 此处的位置可以使用像素单位，完全可以自定义
         */
        start: '0% 60%',
        end: '100% 10%',
        markers: true,   //绘制开始位置和结束位置的线条
        scrub: true,       //表示动画可以重复执行改成false表示只执行一次
        pin: true           //动画执行期间，动画元素不跟随页面进行滚动，动画执行结束后，恢复滚动
      }
    })
    // 时间点触发之后的操作
    demo.to(".demo", 2, {
      x: 300,
      backgroundColor: "#dd6942",
      opacity: 1
    });
  </script>
</body>

</html>