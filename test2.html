<!DOCTYPE html>
<html lang="">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">


  <!-- Splide套件 -->
  <link rel="stylesheet" href="/_package/splide-4.1.3/dist/css/splide.min.css">

  <!-- CSS -->
  <style>
    /* -------------------------- */
    /* All Spec Start*/
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      /* outline: 1px solid red; */
    }

    /* tabs */
    .tabs {
      position: relative;
      padding-bottom: 5px;
    }

    .tabs .line {
      height: 2px;
      position: absolute;
      bottom: 0;
      margin: 10px 0 0 0;
      background: #c6c6c6;
    }

    .tabs ul {
      padding: 0;
      margin: 0;
      list-style: none;
      display: flex;
    }

    .tabs ul li {
      margin: 0 40px 0 0;
      opacity: 0.4;
      transition: all 0.4s ease;
    }

    .tabs ul li:hover {
      opacity: 0.7;
    }

    .tabs ul li.active {
      opacity: 1;
    }

    .tabs ul li:last-child {
      margin-right: 0;
    }

    .tabs ul li a {
      text-decoration: none;
      color: #313131;
      text-transform: uppercase;
      display: block;
      font-weight: 600;
      letter-spacing: 0.2em;
      font-size: 14px;
    }


    /* cards */
    .splide__slide .product_series {
      max-width: 600px;
      border-radius: 0.5rem;
      background-color: #fff;
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.197);
      /* border: 1px solid transparent; */
      margin: 10px 0;
      overflow: hidden;
    }

    .product_series a {
      text-decoration: none;
    }

    .content {
      padding: 1.1rem;
    }



    .image img {
      width: 100%;
    }

    .title {
      color: #111827;
      font-size: 1.125rem;
      line-height: 1.75rem;
      font-weight: 600;
    }

    .desc {
      margin-top: 0.5rem;
      color: #6B7280;
      font-size: 0.875rem;
      line-height: 1.25rem;
    }

    .action {
      display: inline-flex;
      margin-top: 1rem;
      color: #ffffff;
      font-size: 0.875rem;
      line-height: 1.25rem;
      font-weight: 500;
      align-items: center;
      gap: 0.25rem;
      background-color: #656565;
      padding: 4px 8px;
      border-radius: 4px;
    }

    .action .arrow {
      transition: .3s ease;
    }

    .action:hover .arrow {
      transform: translateX(4px);
    }

    /* Custom End*/
    /* -------------------------- */

    /* -------------------------- */
    /* Splide Start*/
    /* .carousel-container {
      position: relative;
      width: 100%;
    } */
/* 
    .carousel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
    } */

    .carousel.active {
      visibility: visible;
      opacity: 1;
      /* 顯示活動的 carousel */
    }

    .splide_wapper {
      max-height: 800px;
      width: 100%;
      height: 100%;
      position: relative;
    }

    .splide_img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    .splide_title {
      position: absolute;
      bottom: 64px;
      left: 64px;
      color: #fff;
      font-size: 72px;
      font-weight: 600;
      line-height: 64px;
    }

    /* Splide End*/
    /* -------------------------- */
  </style>
</head>

<body>

  <nav class="tabs">
    <ul>
      <li class="active"><a id="men" href="">男款</a>
      </li>
      <li><a id="women" href="">女款</a>
      </li>
    </ul>
  </nav>

  <div class="carousel-container">

    <div class="">
      <div id="image-carousel-1" class="splide carousel active">
        <div class="splide__track">
          <ul class="splide__list">
            <li class="splide__slide">
              <div class="product_series">
                <div class="image">
                  <img src="/_images/banner/pdt04.jpg" alt="">
                </div>
                <div class="content">
                  <a href="#">
                    <span class="title">
                      E Line
                    </span>
                  </a>

                  <p class="desc">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae
                    dolores, possimus pariatur animi temporibus nesciunt praesentium
                  </p>

                  <a class="action" href="#">
                    Find out more
                    <span class="arrow">
                      →
                    </span>
                  </a>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="">
      <div id="image-carousel-2" class="splide carousel">
        <div class="splide__track">
          <ul class="splide__list">
            <li class="splide__slide">
              <div class="product_series">
                <div class="image">
                  <img src="/_images/banner/pdt03.jpg" alt="">
                </div>
                <div class="content">
                  <a href="#">
                    <span class="title">
                      E Line
                    </span>
                  </a>

                  <p class="desc">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae
                    dolores, possimus pariatur animi temporibus nesciunt praesentium
                  </p>

                  <a class="action" href="#">
                    Find out more
                    <span class="arrow">
                      →
                    </span>
                  </a>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- <div id="image-carousel-2" class="splide carousel ">
      <div class="splide__track">
        <ul class="splide__list">
          <li class="splide__slide">
            <div class="product_series">
              <div class="image">
                <img src="/_images/banner/pdt04.jpg" alt="">
              </div>
              <div class="content">
                <a href="#">
                  <span class="title">
                    E Line
                  </span>
                </a>

                <p class="desc">
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae
                  dolores, possimus pariatur animi temporibus nesciunt praesentium
                </p>

                <a class="action" href="#">
                  Find out more
                  <span class="arrow">
                    →
                  </span>
                </a>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div> -->

  </div>


  <!-- JQ -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


  <!-- Splide套件 -->
  <script src="/_package/splide-4.1.3/dist/js/splide.js"></script>

  <!-- Js -->
  <script>
    $(document).ready(function () {
      var nav = $('.tabs');
      var line = $('<div />').addClass('line');
      line.appendTo(nav);

      var active = nav.find('.active');
      var pos = 0;
      var wid = 0;

      // **設定初始導航底線位置**
      if (active.length) {
        pos = active.position().left;
        wid = active.width();
        line.css({
          left: pos,
          width: wid
        });
      }

      // **初始化輪播顯示狀態**
      updateCarouselVisibility();

      // **點擊導航選單時的動畫與狀態變化**
      nav.find('ul li a').click(function (e) {
        e.preventDefault(); // 防止頁面跳轉

        if (!$(this).parent().hasClass('active') && !nav.hasClass('animate')) {
          nav.addClass('animate'); // 避免同時進行多個動畫

          var _this = $(this);
          nav.find('ul li').removeClass('active'); // 清除其他項目的 active

          var position = _this.parent().position();
          var width = _this.parent().width();

          // **動畫效果：導航底線移動**
          if (position.left >= pos) {
            line.animate({
              width: ((position.left - pos) + width) // 先變寬
            }, 300, function () {
              line.animate({
                width: width,
                left: position.left // 再移動到新位置
              }, 150, function () {
                nav.removeClass('animate');
              });
              _this.parent().addClass('active'); // 設定新選擇的項目為 active
              updateCarouselVisibility(); // **更新輪播顯示**
            });
          } else {
            line.animate({
              left: position.left,
              width: ((pos - position.left) + wid) // 先變寬
            }, 300, function () {
              line.animate({
                width: width // 縮回新位置
              }, 150, function () {
                nav.removeClass('animate');
              });
              _this.parent().addClass('active');
              updateCarouselVisibility(); // **更新輪播顯示**
            });
          }

          pos = position.left;
          wid = width;
        }
      });

      function updateCarouselVisibility() {
        // 切換活動的 carousel
        if ($("#men").parent().hasClass("active")) {
          $("#image-carousel-1").addClass("active");
          $("#image-carousel-2").removeClass("active");
        } else if ($("#women").parent().hasClass("active")) {
          $("#image-carousel-1").removeClass("active");
          $("#image-carousel-2").addClass("active");
        }
      }

      // **統一 Splide 設定**
      var splideOptions = {
        padding: '15px',
        gap: '15px',
        perPage: 4,         // 一次顯示 4 個
        perMove: 1,         // 每次移動 1 個
        interval: 5000,     // 每 5 秒切換一次
        speed: 1500,        // 切換動畫時間（1.5 秒）
        rewind: true,       // 啟用循環 (回到第一張)
        arrows: false,      // 隱藏左右箭頭
        pagination: false,  // 隱藏小圓點
        pauseOnHover: false // 滑鼠停留時仍然繼續播放
      };

      // **初始化所有輪播**
      var splide1 = new Splide("#image-carousel-1", splideOptions).mount();
      var splide2 = new Splide("#image-carousel-2", splideOptions).mount();

      // **確保在切換標籤時重新初始化 Splide**
      function reinitializeSplide() {
        splide1.destroy();
        splide2.destroy();

        splide1 = new Splide("#image-carousel-1", splideOptions).mount();
        splide2 = new Splide("#image-carousel-2", splideOptions).mount();
      }

    });

  </script>
</body>

</html>